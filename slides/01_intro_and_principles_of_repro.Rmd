---
title: "Introduction and Principles of reproducibility."
subtitle: "White Rose BBSRC DTP Training: An Introduction to Reproducible Analyses in R."
author: "Emma Rand"
institute: "University of York, UK"
output:
  xaringan::moon_reader:
    css: [default, ../css_files/emma.css, ../css_files/emma-fonts.css]
    lib_dir: libs
    seal: true
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, 
                      message = FALSE,	
                      warning = FALSE,
                      fig.width = 4, 
                      fig.height = 4, 
                      fig.retina = 3)
options(htmltools.dir.version = FALSE)
```

```{r xaringanextra, echo=FALSE}
# scribble, toggle S, note cannot advance sides
xaringanExtra::use_scribble()
# copy code
xaringanExtra::use_clipboard()
# highlighted code
xaringanExtra::use_extra_styles(
  hover_code_line = TRUE,         
  mute_unhighlighted_code = TRUE)
```


```{r packages, include=FALSE}
library(RefManageR)
library(kableExtra)
library(tidyverse)
library(patchwork)
```


```{r, load-refs, include=FALSE, cache=FALSE}
BibOptions(check.entries = FALSE,
           bib.style = "authoryear",
           cite.style = "authoryear",
           style = "markdown",
           hyperlink = FALSE,
           dashed = FALSE,
           longnamesfirst = FALSE,
           max.names = 2)
myBib <- ReadBib("refs.bib", check = FALSE)
```


<style>
div.blue { background-color:#b0cdef; border-radius: 5px; padding: 20px;}
div.grey { background-color:#d3d3d3; border-radius: 0px; padding: 0px;}
</style>


---
class: inverse

# Programme Overview

---

# What this training *is* and *is not*

Chosen topics are: foundational, widely applicable, and transferable conceptually.



.pull-left[

.font90[

**It is**
* An introduction to R for those without previous experience
* About using RStudio projects and good practice for code and project documentation and organisation
* An introduction to the tidyverse and Quarto
 

]

]

--

.pull-right[

.font90[

**It is not**
* An introduction to statistics  
* Magic  

]

]

---
# Programme overview

Modules, tutor-led or supported study. The selection of modules you undertake will depend on your previous experience.

.font70[

[1. Introduction and Principles of reproducibility](01_intro_and_principles_of_repro.html)  

Audience: Everyone

* Rationale for scripting  
* Why R?  


[2. A. Introduction to R and working with data](02_intro_to_r_and_working_with_data.html)  

Audience: Those without previous experience of R

* Finding your way round RStudio  
* Typing in data, doing some calculations on it, plotting it  
* Importing data: working directories and paths  
* Summarising and visualising with the [`tidyverse`](https://www.tidyverse.org/)  
* Installing and loading packages  

]

---
# Have experience?

.font70[

[2. B. Tidying data and the tidyverse including the pipe](04_tidying_data_and_the_tidyverse.html)  

Audience: For those with previous experience of R 

* Using the tidyverse including the pipe to link operations together.  
* Carrying out some common data tidying tasks such as reshaping, renaming and recoding variable and cleaning cell contents  

]

---
# Programme overview

.font70[

[3. Project-oriented workflow](03_rstudio_projects.html)  

Audience: Everyone

* Organising your work in a logical, consistent and reproducible way
* Working directories and paths    
* Using RStudio Projects  
 

[4. Quarto for Reproducible Reports](xxx)  

Audience: For those with previous experience of R such as having done "Introduction to R and working with data."
 

]


---
class: inverse

# Reproducibility

---

# Reproducibility

```{r turing-reprod-matrix, echo = FALSE, out.width="700px"}
knitr::include_graphics("pics/reproducible-matrix.jpg")
```


.font60[
How the Turing Way `r Cite(myBib, "the_turing_way_community_2019_3233986")` defines reproducible research
]

---
# Why does it matter?


![futureself, CC-BY-NC, by Julen
Colomb](pics/future_you.png){fig-alt="Person working at a computer with an offstage person asking 'How is the analysis going?' The person at the computer replies 'Can't understand the date...and the data collector does not answer my emails or calls' Person offstage: 'That's terrible! So cruel! Who did collect the data? I will sack them!' Person at the computer: 'um...I did, 3 years ago.'"
width="400"}


---
# Who cares?

* Many high profile cases of work which did not reproduce e.g. Anil Potti unravelled by `r Citet(myBib, "Baggerly2009-pw")` 

* Five selfish reasons to work reproducibly `r Cite(myBib, "Markowetz2015")`. Alternatively, see the [talk](https://youtu.be/yVT07Sukv9Q)


* **Will** become standard in Science and publishing e.g OECD Global Science Forum Building digital workforce capacity and skills for data-intensive science `r Cite(myBib, "OECD_Global_Science_Forum2020-cp")`

---

# How to achieve reproducibility

-   Scripting

-   Project-oriented workflows 

-   Documentation at code and Project level

-   Literate programming

Workflows for computational projects and the data analysis and reporting of other work can, and should, be 100% reproducible! 

---
class: inverse

# Why R?


---
# Why R?

Open source and free

--
 .......But so is Python
  
--

R has reputation for catering to users who do not see themselves as programmers, and  allowing them to slide gradually into programming.

![biologists](pics/biologist1.png)

--

Designed for data analysis and graphics - which means it is often easier to achieve those tasks in R than a general purpose programming language.

---
# Why R?

The R community is one of R's greatest assets, being vibrant, inclusive and supportive of users at all levels.

.pull-left[

-   [#rstats](https://twitter.com/hashtag/rstats?lang=en) on twitter has been very active
-   [RForwards](https://forwards.github.io/about/) the widening participation task force <sup>1</sup>
-   [RLadies](https://rladies.org/) gender diversity promotion 
-   [Hey! You there! You are welcome here](https://ropensci.org/blog/2017/06/23/community/)  

.font70[
.footnote[
1. I am member of the Core Team for Forwards
]
]

]

.pull-right[
```{r echo = FALSE, out.width="400px"}
knitr::include_graphics("pics/welcome_to_rstats_twitter.png")
```

.font70[
.footnote[
Artwork by @allison_horst 
]
]

]


---
class: inverse

# Summary

---
# Summary

-   The course is:

   - an introduction to reproducible analyses rather than statistics  
   - not enough, you need to practice!  
   - comprised of modules so you can opt out where you already have the skills  
   
-   Scripting makes your work reproducible  

-   Focus is on R but principles of reproducibility are widely applicable; use Python if you prefer  

---
class: inverse

# Further Reading


---
# Further Reading

-   "Data Organization in Spreadsheets" `r Cite(myBib, "broman_data_2018")`

-   "Ten simple rules for reproducible computational research" `r Cite(myBib, "Sandve2013-nd")`  

-   "Best practices for scientific computing" `r Cite(myBib, "Wilson2014-ij")`  

-   "Good enough practices in scientific computing" `r Cite(myBib, "Wilson2017-cp")`  

-   "Excuse Me, Do You Have a Moment to Talk About Version Control?" `r Cite(myBib, "Bryan2018-hl")` 



---
# References
.footnote[
.font60[
Slides made with with xaringan `r Cite(myBib, "xaringan")` and xaringanExtra `r Cite(myBib, "xaringanExtra")`
]
]
.font60[
```{r refs, echo=FALSE, results="asis"}
PrintBibliography(myBib)
```
]

---
# Intro to Repro in R

Emma Rand  
[emma.rand@york.ac.uk](mailto:emma.rand@york.ac.uk)  
Twitter: [@er13_r](https://twitter.com/er13_r)   
GitHub: [3mmaRand](https://github.com/3mmaRand)  
blog: https://buzzrbeeline.blog/  

<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.

Rand, E. (2023). White Rose BBSRC DTP Training: An Introduction to Reproducible Analyses in R (Version v1.2). https://doi.org/10.5281/zenodo.3859818